<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bug Reporter — Plain HTML Test</title>

  <!-- Library's self-contained CSS (no Tailwind required) -->
  <link rel="stylesheet" href="../packages/react/dist/styles.css" />

  <style>
    /* Basic page styles — deliberately NOT using Tailwind */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f9fafb;
      color: #111827;
      line-height: 1.6;
    }
    .navbar {
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      padding: 16px 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .navbar h1 { font-size: 18px; font-weight: 600; }
    .badge {
      display: inline-block;
      background: #dbeafe;
      color: #1d4ed8;
      font-size: 12px;
      font-weight: 500;
      padding: 2px 10px;
      border-radius: 9999px;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 48px 24px;
    }
    .hero h2 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 12px;
    }
    .hero p {
      font-size: 18px;
      color: #6b7280;
      margin-bottom: 32px;
    }
    .card {
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }
    .card h3 {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    .card p { color: #6b7280; font-size: 14px; }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    @media (max-width: 640px) {
      .grid { grid-template-columns: 1fr; }
    }
    .info-banner {
      background: #ecfdf5;
      border: 1px solid #a7f3d0;
      border-radius: 12px;
      padding: 16px 20px;
      margin-bottom: 32px;
      font-size: 14px;
      color: #065f46;
    }
    .info-banner strong { font-weight: 600; }
  </style>
</head>
<body>
  <nav class="navbar">
    <h1>Plain HTML Test App</h1>
    <span class="badge">No Tailwind · No Bundler</span>
  </nav>

  <div class="container">
    <div class="info-banner">
      <strong>Environment:</strong> Plain HTML + CSS + React via CDN.<br />
      No Tailwind CSS, no PostCSS, no build step. The library's <code>dist/styles.css</code>
      is loaded as a standalone <code>&lt;link&gt;</code> tag.
    </div>

    <div class="hero">
      <h2>Bug Reporter — HTML Only</h2>
      <p>
        This page tests that the library's UI works without any Tailwind
        installation. Click the floating button in the bottom-right corner.
      </p>
    </div>

    <div class="grid">
      <div class="card">
        <h3>Screenshot capture</h3>
        <p>Full-page or region selection via html2canvas-pro.</p>
      </div>
      <div class="card">
        <h3>Video recording</h3>
        <p>Screen + microphone via MediaRecorder API.</p>
      </div>
      <div class="card">
        <h3>Annotation</h3>
        <p>Drag-to-highlight on captured screenshots.</p>
      </div>
      <div class="card">
        <h3>Integrations</h3>
        <p>Linear and Jira (direct API or backend proxy).</p>
      </div>
    </div>
  </div>

  <!-- React root -->
  <div id="root"></div>

  <!--
    Import map: lets the browser resolve bare specifiers like 'react'
    inside the library's ESM bundle (dist/index.js).
  -->
  <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@19?dev",
        "react/jsx-runtime": "https://esm.sh/react@19/jsx-runtime?dev",
        "react-dom": "https://esm.sh/react-dom@19?dev",
        "react-dom/client": "https://esm.sh/react-dom@19/client?dev",
        "radix-ui": "https://esm.sh/radix-ui@1.4.3?external=react,react-dom",
        "lucide-react": "https://esm.sh/lucide-react@0.563.0?external=react",
        "class-variance-authority": "https://esm.sh/class-variance-authority@0.7.1",
        "clsx": "https://esm.sh/clsx@2.1.1",
        "tailwind-merge": "https://esm.sh/tailwind-merge@3.4.0",
        "html2canvas-pro": "https://esm.sh/html2canvas-pro@1.6.6"
      }
    }
  </script>

  <!-- App bootstrap (uses the library's pre-built ESM bundle) -->
  <script type="module">
    import React from 'react';
    import { createRoot } from 'react-dom/client';
    import {
      BugReporterProvider,
      FloatingBugButton,
      BugReporterModal,
      LinearIntegration,
    } from '../packages/react/dist/index.js';

    const { createElement: h } = React;

    // Minimal integration (no real API key — just proves UI renders)
    const linear = new LinearIntegration({
      submitProxyEndpoint: '/api/bug-report',
    });

    const app = h(
      BugReporterProvider,
      { integrations: { linear }, defaultProvider: 'linear' },
      h(FloatingBugButton),
      h(BugReporterModal),
    );

    createRoot(document.getElementById('root')).render(app);
  </script>
</body>
</html>
